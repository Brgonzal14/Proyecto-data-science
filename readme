# ğŸ¡ Buscador de Propiedades (HTML/CSS/JS + Node/SQLite + UF)

AplicaciÃ³n web para buscar propiedades por **comuna**, **habitaciones**, **baÃ±os** y **mÂ²**, utilizando datos reales importados desde un archivo Excel.

El proyecto incluye:

* **Frontend** simple (HTML/CSS/JS)
* **Backend en Node.js + Express**
* **Base de datos SQLite**
* **VisualizaciÃ³n de precios en UF**
* **Script en Python** para importar un Excel limpio a la base de datos

---

## ğŸ“ 1. Estructura del Proyecto

```
Proyecto-data-science/
â”œâ”€ public/
â”‚  â”œâ”€ index.html
â”‚  â”œâ”€ styles.css
â”‚  â””â”€ app.js
â”œâ”€ data/
â”‚  â”œâ”€ properties.db        â† Base de datos SQLite
â”‚  â””â”€ inmobiliario_limpio_v4.xlsx  â† Archivo Excel (tu dataset)
â”œâ”€ import_inmobiliario.py   â† Script para cargar datos reales
â”œâ”€ server.js
â”œâ”€ package.json
â””â”€ Dockerfile / docker-compose.yml (opcional)
```

---

## ğŸ”§ 2. Requisitos

* **Node.js 18+** (recomendado 20+)
* **Python 3.9+** con:

  * `pandas`
  * `openpyxl`
* (Opcional) **Docker Desktop**

---

## ğŸŸ¦ 3. Importar los datos reales (Excel â†’ SQLite)

Antes de levantar el servidor por primera vez, importa tus propiedades reales.

### 3.1 Instalar dependencias de Python

```bash
pip install pandas openpyxl
```

### 3.2 Ejecutar el script de importaciÃ³n

AsegÃºrate de que tu archivo Excel estÃ© en:

```
./data/inmobiliario_limpio_v4.xlsx
```

Luego corre:

```bash
python import_inmobiliario.py
```

Este script:

âœ” Borra la tabla anterior
âœ” Crea una tabla nueva llamada **properties**
âœ” Inserta todas las filas del Excel
âœ” Guarda precios en **UF**
âœ” Limpia datos faltantes

Al finalizar verÃ¡s:

```
Filas a insertar: XXXX
âœ… Datos importados a data/properties.db
```

---

## â–¶ï¸ 4. Levantar el proyecto en local (sin Docker)

1. Instalar dependencias Node:

```bash
npm install
```

2. Iniciar el servidor:

```bash
npm start
```

3. Abrir en el navegador:

ğŸ‘‰ **[http://localhost:3000](http://localhost:3000)**

4. Probar la API:

* Healthcheck
  [http://localhost:3000/api/health](http://localhost:3000/api/health) â†’ `{ "ok": true }`
* Propiedades en UF
  [http://localhost:3000/api/properties](http://localhost:3000/api/properties)

---

## ğŸ³ 5. Levantar con Docker (opcional)

1. Construir y levantar:

```bash
docker compose up -d --build
```

2. Abrir:

ğŸ‘‰ [http://localhost:3000](http://localhost:3000)

La base queda persistida en `./data`.

---

## ğŸ’± 6. Precios en UF

El frontend utiliza:

```js
formatPrice(value)
```

que formatea automÃ¡ticamente asÃ­:

```
UF 4.520,35
```

No se muestra CLP en ningÃºn lugar de la aplicaciÃ³n.

---

## ğŸ“Œ 7. Notas importantes

* La semilla de datos falsos fue **eliminada** (no se generan datos de prueba).
* Todo el contenido mostrado en la web proviene **exclusivamente del Excel importado**.
* Puedes reemplazar el archivo Excel por una versiÃ³n nueva y ejecutar de nuevo `python import_inmobiliario.py`.

---

